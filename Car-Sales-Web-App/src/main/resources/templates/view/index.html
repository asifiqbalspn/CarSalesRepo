<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
	xmlns:layout="http://www.ultraq.net.nz/web/thymeleaf/layout">
<head>
    <title>Car Sale | Home</title>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <link rel="stylesheet" href="css/bootstrap.min.css"/>
  
  <script src="js/jquery-1.12.4.min.js"></script>
  <script src="js/bootstrap.min.js"></script>
</head>

<style>
.car {
    border: 10px solid transparent;
    margin-bottom: 25px;
    width: 80%;
    height: 80%;
    opacity: 0.7;
}
.car:hover {
    border-color: #f1f1f1;
}

.jumbotron { 
    background-color: #2471A3;  /*blue*/
    color: #ffffff;
}

.selectwidthauto
{
     width:auto !important;
}

</style>
<body>

<nav class="navbar navbar-default navbar-fixed-top">
  <div class="container-fluid">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#myNavbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span> 
      </button>
      <a class="navbar-brand" href="#">Car Sale</a>
    </div>
    <div class="collapse navbar-collapse" id="myNavbar">
      <ul class="nav navbar-nav navbar-right">
        <li><a href="#home">NEW</a></li>
        <li><a href="#band">USED</a></li>
        <li><a href="#tour">SELL</a></li>
        <li><a href="#contact">CONTACT</a></li>
        <li><a href="#"><span class="glyphicon glyphicon-search"></span></a></li>
      </ul>
    </div>
  </div>
</nav>

<div class="container text-center">
<div id="myCarousel" class="carousel slide" data-ride="carousel">
  <!-- Indicators -->
  <ol class="carousel-indicators">
    <li data-target="#myCarousel" data-slide-to="0" class="active"></li>
    <li data-target="#myCarousel" data-slide-to="1"></li>
    <li data-target="#myCarousel" data-slide-to="2"></li>
  </ol>

  <!-- Wrapper for slides -->
  <div class="carousel-inner" role="listbox">
    <div class="item active">
      <img src="banner1.jpg" alt="Car Banner" style="width: 1200px; height:500px;"/>
      <div class="carousel-caption">
        <h3></h3>
        <p></p>
      </div> 
    </div>

    <div class="item">
      <img src="banner2.jpg" alt="Car Banner" style="width: 1200px; height:500px;" />
      <div class="carousel-caption">
        <h3></h3>
        <p></p>
      </div> 
    </div>

    <div class="item">
      <img src="banner3.jpg" alt="Car Banner" style="width: 1200px; height:500px;"/>
      <div class="carousel-caption">
        <h3></h3>
        <p></p>
      </div> 
    </div>
  </div>

  <!-- Left and right controls -->
  <a class="left carousel-control" href="#myCarousel" role="button" data-slide="prev">
    <span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>
    <span class="sr-only">Previous</span>
  </a>
  <a class="right carousel-control" href="#myCarousel" role="button" data-slide="next">
    <span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span>
    <span class="sr-only">Next</span>
  </a>
</div>


</div>

<br></br><br></br>

<div class="container text-center">
  <div class="jumbotron text-center">
  <h2>Find your car</h2> 
  <form id="scars"  action="#" method="POST" th:action="@{/searchcars}" th:object="${carBean}" class="form-inline">
   
  <label  for="make" >Make:</label>
  	<select class="form-control" id="make" onchange="loadSelectedCarModels(this);" th:field="*{make}">
  	<option value="Any Make">Any Make</option>
  </select>
  
  <label  for="model" style="margin-left: 15px;">Model:</label>
  	<select class="form-control" id="model" th:field="*{model}">
 		<option value="Any Model">Any Model</option>
  </select>
    
    
        <label  for="min" style="margin-left: 15px;">Price Min:</label>
    	<select class="form-control" id="min" th:field="*{min}">
    	<option value="0">Min</option>
  	 <option value="3000">$3000</option>
   	 <option value="5000">$5000</option>
    	<option value="6000">$6000</option>
    	<option value="9000">$9000</option>
    	<option value="15000">$15000</option>
    	<option value="20000">$20000</option>
    	<option value="30000">$30000</option>
   	 	<option value="50000">$50000</option>
    	<option value="60000">$60000</option>
    	<option value="90000">$90000</option>
    	<option value="150000">$150000</option>
    	<option value="200000">$200000</option>
  </select>
    
         <label  for="max" style="margin-left: 15px;">Price Max:</label>
      	<select class="form-control" id="max" th:field="*{max}">
   	<option value="0">Max</option>
  	 <option value="3000">$3000</option>
   	 <option value="5000">$5000</option>
    	<option value="6000">$6000</option>
    	<option value="9000">$9000</option>
    	<option value="15000">$15000</option>
    	<option value="20000">$20000</option>
    	<option value="30000">$30000</option>
   	 	<option value="50000">$50000</option>
    	<option value="60000">$60000</option>
    	<option value="90000">$90000</option>
    	<option value="150000">$150000</option>
    	<option value="200000">$200000</option>
  </select>
    
    <button type="submit" class="btn btn-danger" style="margin-left: 15px;">Search</button>
  </form>
</div>
</div>

<div class="container text-center">
  <h2>Hot cars in 2016</h2>
  
    <div class="row">
    <div class="col-md-12">
      <div class="carousel slide multi-item-carousel" id="theCarousel">
        <div class="carousel-inner">
          <div class="item active">
            <div class="col-xs-4">
               <p>Maruti Vitara Brezza</p>
            <a href="#1">      <img src="maruti_vitara.jpg" class="img-circle car" alt="Random Name"/></a></div>
          </div>
          <div class="item">
            <div class="col-xs-4">
            <p>Renault KWID</p>
            <a href="#1"> <img src="Renault_kwid.jpg" class="img-circle car" alt="Random Name"/></a></div>
          </div>
          <div class="item">
            <div class="col-xs-4">
            <p>Hyundai Creta</p>
            <a href="#1"> <img src="Red-Passion.jpg" class="img-circle car" alt="Random Name"/></a></div>
          </div>

        </div>
        <a class="left carousel-control" href="#theCarousel" data-slide="prev"><i class="glyphicon glyphicon-chevron-left"></i></a>
        <a class="right carousel-control" href="#theCarousel" data-slide="next"><i class="glyphicon glyphicon-chevron-right"></i></a>
      </div>
    </div>
  </div>
</div>

<div class="container text-center">
  <h2>Popular cars</h2>
  
    <div class="row">
    <div class="col-md-12">
      <div class="carousel slide multi-item-carousel" id="theCarousel">
        <div class="carousel-inner">
          <div class="item active">
            <div class="col-xs-4">
               <p>Maruti Vitara Brezza</p>
            <a href="#1">      <img src="maruti_vitara.jpg" class="img-circle car" alt="Random Name"/></a></div>
          </div>
          <div class="item">
            <div class="col-xs-4">
            <p>Renault KWID</p>
            <a href="#1"> <img src="Renault_kwid.jpg" class="img-circle car" alt="Random Name"/></a></div>
          </div>
          <div class="item">
            <div class="col-xs-4">
            <p>Hyundai Creta</p>
            <a href="#1"> <img src="Red-Passion.jpg" class="img-circle car" alt="Random Name"/></a></div>
          </div>

        </div>
        <a class="left carousel-control" href="#theCarousel" data-slide="prev"><i class="glyphicon glyphicon-chevron-left"></i></a>
        <a class="right carousel-control" href="#theCarousel" data-slide="next"><i class="glyphicon glyphicon-chevron-right"></i></a>
      </div>
    </div>
  </div>
</div>

</body>
<script>

jQuery(document).ready(function() {    
	
	loadAvailableCars();
	
});


function loadAvailableCars()
{

	 var dropdown=$('#make');
	 dropdown.empty(); 

	 var newOption = "<option>Any Make</option>"; 
	 $("#make").append(newOption);
	 
	$.ajax({

		type : "GET",
		url : 'http://localhost:8080/CarSaleRest/carsmake',
		cache : false,
		data : {},
		dataType : 'json',
		success : function(response) {

			$.each(response, function (i, item) {

				 $("#make").append("<option value="+item+">"+item + "</option>");
			   
			});  
			
			
		},
		error : function() {
			
		}

	});
		

}

function loadSelectedCarModels(make)
{
	var carName = make.value;
	
	 var dropdown=$('#model');
	 dropdown.empty(); 

	 var newOption = "<option>Any Model</option>"; 
	 $("#model").append(newOption);
	 
	$.ajax({

		type : "POST",
		url : 'http://localhost:8080/CarSaleRest/carmodels',
		cache : false,
		data : {'make':carName},
		dataType : 'json',
		success : function(response) {

			$.each(response, function (i, item) {

				 $("#model").append("<option value="+item+">"+item + "</option>");
			   
			});  
			
			
		},
		error : function() {
			
		}

	});
		
	
}

//Instantiate the Bootstrap carousel
$('.multi-item-carousel').carousel({
  interval: false
});

// for every slide in carousel, copy the next slide's item in the slide.
// Do the same for the next, next item.
$('.multi-item-carousel .item').each(function(){
  var next = $(this).next();
  if (!next.length) {
    next = $(this).siblings(':first');
  }
  next.children(':first-child').clone().appendTo($(this));
  
  if (next.next().length>0) {
    next.next().children(':first-child').clone().appendTo($(this));
  } else {
  	$(this).siblings(':first').children(':first-child').clone().appendTo($(this));
  }
});

</script>
</html>